{"ast":null,"code":"// import { create } from \"zustand\";\n// import { fetchTrafficUpdatesData } from \"../services/apiService\";\n// import { useLocationStore } from \"./useInputStore\";\n// import { TrafficState, TrafficUpdateInterface } from \"../types/trafficTypes\";\n\n// export const useTrafficStore = create<TrafficState>((set) => ({\n//   trafficUpdates: [],\n//   fetchTrafficUpdates: async () => {\n//     try {\n//       const { location } = useLocationStore.getState();\n\n//       if (!location) {\n//         console.error(\"Location is not set.\");\n//         return;\n//       }\n\n//       const { latitude, longitude } = location;\n//       console.log(\"Fetching traffic updates for:\", latitude, longitude);\n\n//       const data = await fetchTrafficUpdatesData(latitude, longitude);\n//       const situations = data.RESPONSE.RESULT[0]?.Situation || [];\n\n//       const extractNestedData: TrafficUpdateInterface[] = situations.flatMap(\n//         (situation: any) =>\n//           situation.Deviation.map((deviation: any) => ({\n//             MessageCode: deviation.MessageCode,\n//             Message: deviation.Message,\n//             SeverityText: deviation.SeverityText,\n//             CreationTime: deviation.CreationTime,\n//             LocationDescriptor: deviation.LocationDescriptor,\n//             IconId: deviation.roadAccident,\n//           }))\n//       );\n\n//       set({ trafficUpdates: extractNestedData });\n\n//       console.log(\"Fetched traffic updates:\", extractNestedData);\n//     } catch (error) {\n//       console.error(\"Failed to load data:\", error);\n//     }\n//   },\n// }));","map":{"version":3,"names":[],"sources":["/Users/ida/VS-codeProjects/Local-Travel-And-Weather-Dashboard/my-app/src/store/useTrafficStore.tsx"],"sourcesContent":["// import { create } from \"zustand\";\n// import { fetchTrafficUpdatesData } from \"../services/apiService\";\n// import { useLocationStore } from \"./useInputStore\";\n// import { TrafficState, TrafficUpdateInterface } from \"../types/trafficTypes\";\n\n// export const useTrafficStore = create<TrafficState>((set) => ({\n//   trafficUpdates: [],\n//   fetchTrafficUpdates: async () => {\n//     try {\n//       const { location } = useLocationStore.getState();\n\n//       if (!location) {\n//         console.error(\"Location is not set.\");\n//         return;\n//       }\n\n//       const { latitude, longitude } = location;\n//       console.log(\"Fetching traffic updates for:\", latitude, longitude);\n\n//       const data = await fetchTrafficUpdatesData(latitude, longitude);\n//       const situations = data.RESPONSE.RESULT[0]?.Situation || [];\n\n//       const extractNestedData: TrafficUpdateInterface[] = situations.flatMap(\n//         (situation: any) =>\n//           situation.Deviation.map((deviation: any) => ({\n//             MessageCode: deviation.MessageCode,\n//             Message: deviation.Message,\n//             SeverityText: deviation.SeverityText,\n//             CreationTime: deviation.CreationTime,\n//             LocationDescriptor: deviation.LocationDescriptor,\n//             IconId: deviation.roadAccident,\n//           }))\n//       );\n\n//       set({ trafficUpdates: extractNestedData });\n\n//       console.log(\"Fetched traffic updates:\", extractNestedData);\n//     } catch (error) {\n//       console.error(\"Failed to load data:\", error);\n//     }\n//   },\n// }));\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}